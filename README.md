# fire\_uav üöÅüî•

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è *–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ–≥–Ω—è, –¥—ã–º–∞ –∏ –ª—é–¥–µ–π —Å –ë–ü–õ–ê* + –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –æ–±–ª—ë—Ç–∞ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø–æ–ª–∏–≥–æ–Ω—É (lawn‚Äëmower grid).

<p align="center">
  <img src="https://user-images.githubusercontent.com/placeholder/fire_uav_demo.gif" width="580" />
</p>

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞         | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                                                               | –ú–æ–¥—É–ª—å                       |
| ------------------ |----------------------------------------------------------------------------------------------------------| ---------------------------- |
| **Detection**      | YOLOv10 ‚Üí `Detection`‚Äë–æ–±—ä–µ–∫—Ç—ã (`class_id`, `confidence`, `bbox`)                                         | `fire_uav/core/detection.py` |
| **Flight¬†Planner** | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥—Ä–∏–¥‚Äë–ª–∏–Ω–∏–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Ç–æ—á–µ–∫ (TSP), –¥–µ–ª–∏—Ç –º–∞—Ä—à—Ä—É—Ç –Ω–∞ –º–∏—Å—Å–∏–∏ –ø–æ —ë–º–∫–æ—Å—Ç–∏ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞ | `fire_uav/flight/planner.py` |
| **Recorder**       | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–¥—Ä—ã (`jpg`) –∏ –ø–∞–∫–µ—Ç—ã –¥–µ—Ç–µ–∫—Ü–∏–π (`json`/`json.gz`)                                             | `fire_uav/io/recorder.py`    |
| **Transmitter**    | –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç JSON‚Äë–¥–∞–Ω–Ω—ã–µ –ø–æ TCP/UDP                                                                        | `fire_uav/io/transmitter.py` |
| **GUI‚Äë–¥–µ–º–æ**       | PyQt‚Äë–æ–∫–Ω–æ —Å on‚Äëline –¥–µ—Ç–µ–∫—Ü–∏–µ–π                                                                            | `fire_uav/ui/qt/windows.py`  |
| **CLI**            | –ö–æ–º–∞–Ω–¥—ã¬†`fire-detect`,¬†`fire-plan`                                                                       | `fire_uav/ui/cli.py`         |

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
python -m venv venv && source venv/bin/activate
pip install -r requirements.txt
```

> üí° **GPU**: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π `torch` –¥–æ `ultralytics`, –Ω–∞–ø—Ä–∏–º–µ—Ä:
> `pip install torch torchvision --index-url https://download.pytorch.org/whl/cu121`

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1¬†¬∑¬†–ó–∞–ø—É—Å–∫ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏

```bash
fire-detect --model best_yolo11.pt --video 0 --out ./artifacts --conf 0.35
```

* `--video 0`¬†‚Äî –≤–µ–±‚Äë–∫–∞–º–µ—Ä–∞; –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É/RTSP.
* –í—Å–µ JPEG‚Äë–∫–∞–¥—Ä—ã –∏ JSON‚Äë—Ñ–∞–π–ª—ã –¥–µ—Ç–µ–∫—Ü–∏–π —Å–ª–æ–∂–∞—Ç—Å—è –≤ `./artifacts`.

### 2¬†¬∑¬†–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª—ë—Ç–∞

```bash
# AOI –∑–∞–¥–∞—ë–º WKT‚Äë—Å—Ç—Ä–æ–∫–æ–π –∏–ª–∏ —Ñ–∞–π–ª–æ–º —Å WKT –ø–æ–ª–∏–≥–æ–Ω–∞
fire-plan --aoi-wkt "POLYGON((37.61 55.75, 37.62 55.75, 37.62 55.76, 37.61 55.76, 37.61 55.75))" \
          --gsd 2.5 \
          --out mission.waypoints
```

`mission.waypoints`¬†‚Äî csv‚Äë—Ñ–∞–π–ª `lat,lon,alt` –¥–ª—è –ø–µ—Ä–≤–æ–π –±–∞—Ç–∞—Ä–µ–∏. –ï—Å–ª–∏ –ø–æ–ª–∏–≥–æ–Ω –≤–µ–ª–∏–∫, –º–∞—Ä—à—Ä—É—Ç —Ä–∞–∑–æ–±—å—ë—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏—Å—Å–∏–π.

### 3¬†¬∑¬†GUI‚Äë–¥–µ–º–æ

```bash
python -m fire_uav.ui.qt.windows  # –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ —Å –≤–µ–±‚Äë–∫–∞–º–µ—Ä–æ–π –∏ bbox'–∞–º–∏
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
fire_uav/
‚îÇ
‚îú‚îÄ core/          # –¥–µ—Ç–µ–∫—Ü–∏—è, –≥–µ–æ–º–µ—Ç—Ä–∏—è, DTO
‚îú‚îÄ flight/        # –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ + —ç–Ω–µ—Ä–≥–æ–º–æ–¥–µ–ª—å
‚îú‚îÄ io/            # –∑–∞–ø–∏—Å—å / –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ ui/            # CLI + Qt‚ÄëGUI
‚îú‚îÄ utils/         # –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–µ–ª–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ tests/         # pytest
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# —é–Ω–∏—Ç‚Äë—Ç–µ—Å—Ç—ã
pytest -q

# –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
ruff check . --fix && black .
```

---

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —Ç—Ä–µ–∫–µ—Ä

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å‚Äë–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ `fire_uav.core.tracker.BaseTracker`, —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥
   `update(list[Detection], frame) -> list[Detection]`, –≥–¥–µ –¥–æ–±–∞–≤—å—Ç–µ `track_id` –≤ –æ–±—ä–µ–∫—Ç—ã `Detection`.
2. –í —Å–≤–æ—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç—Ä–µ–∫–µ—Ä –º–µ–∂–¥—É `DetectionEngine` –∏ `Recorder`.

---

